<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robbin Harrison's Heart Ceremony</title>

    <link rel="stylesheet" href="registryStyle.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Playfair+Display&family=Zen+Kaku+Gothic+New&display=swap" rel="stylesheet"> 
    <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7_dtp.css" rel="stylesheet" type="text/css">
    <style type="text/css"> 
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:600px;}</style>

</head>
<body id="registry">

<header class="inverted-title">
        <a href="index.html" ><img src="images/back-left-arrow-icon.png" alt="Back button arrow" id="backimage"></a>
        <h1 id="header-registry" >Destinee & Harrison</h1>
</header>


<div id="body-text">
    
    <h2 id="registry-title">Registry</h2>

    <p class="description-info">Your presence is our present (via zoom or in-person), <em>buuuut</em><br>in case you'd like to help us prepare for our life together here are some...</p>

    <h2 class="support-gift">Ways to Support Us</h2>

    <div class="main-box">

        <aside id="user-aside">
            <!-- <button id="userbutton">USER</button> -->

            <div id="rightModal" class="sideModal">
                <div class="modal-content-right">
                    <h1 class="modal-bold">Cash Payment</h1>
                    <p id="modal-para">Enter your information below and we will receive your gift directly. <br>Thank you!</p>

                    <div id="smart-button-container">
                        <div style="text-align: center"><label for="description">Message to Bride & Groom </label><br><input type="text" name="descriptionInput" id="description" maxlength="127" value="" rows="5" cols="10"></div>
                          <p id="descriptionError" style="visibility: hidden; color:red; text-align: center;">Please enter a description</p>
                        <div style="text-align: center"><label for="amount">Enter donation amount</label><br><input name="amountInput" type="number" id="amount" value="" placeholder="$0.00 USD"><span></span></div>
                          <p id="priceLabelError" style="visibility: hidden; color:red; text-align: center;">Please enter a price</p>
                        <div id="invoiceidDiv" style="text-align: center; display: none;"><label for="invoiceid"> </label><input name="invoiceid" maxlength="127" type="text" id="invoiceid" value="" ></div>
                          <p id="invoiceidError" style="visibility: hidden; color:red; text-align: center;">Please enter an Invoice ID</p>
                        <div style="text-align: center; margin-top: 0.625rem;" id="paypal-button-container"></div>
                      </div>
                      <script src="https://www.paypal.com/sdk/js?client-id=sb&enable-funding=venmo&currency=USD" data-sdk-integration-source="button-factory"></script>
                      <script>
                      function initPayPalButton() {
                        var description = document.querySelector('#smart-button-container #description');
                        var amount = document.querySelector('#smart-button-container #amount');
                        var descriptionError = document.querySelector('#smart-button-container #descriptionError');
                        var priceError = document.querySelector('#smart-button-container #priceLabelError');
                        var invoiceid = document.querySelector('#smart-button-container #invoiceid');
                        var invoiceidError = document.querySelector('#smart-button-container #invoiceidError');
                        var invoiceidDiv = document.querySelector('#smart-button-container #invoiceidDiv');
                    
                        var elArr = [description, amount];
                    
                        if (invoiceidDiv.firstChild.innerHTML.length > 1) {
                          invoiceidDiv.style.display = "block";
                        }
                    
                        var purchase_units = [{"amount":{"currency_code":"USD","value":1,"breakdown":{"item_total":{"currency_code":"USD","value":1}}},"items":[{"name":"item name","unit_amount":{"currency_code":"USD","value":1},"quantity":"1","category":"DONATION"}]}]
                    
                        function validate(event) {
                          return event.value.length > 0;
                        }
                    
                        paypal.Buttons({
                          style: {
                            color: 'silver',
                            shape: 'rect',
                            label: 'donate',
                            layout: 'vertical',
                            
                          },
                    
                          onInit: function (data, actions) {
                            actions.disable();
                    
                            if(invoiceidDiv.style.display === "block") {
                              elArr.push(invoiceid);
                            }
                    
                            elArr.forEach(function (item) {
                              item.addEventListener('keyup', function (event) {
                                var result = elArr.every(validate);
                                if (result) {
                                  actions.enable();
                                } else {
                                  actions.disable();
                                }
                              });
                            });
                          },
                    
                          onClick: function () {
                            if (description.value.length < 1) {
                              descriptionError.style.visibility = "visible";
                            } else {
                              descriptionError.style.visibility = "hidden";
                            }
                    
                            if (amount.value.length < 1) {
                              priceError.style.visibility = "visible";
                            } else {
                              priceError.style.visibility = "hidden";
                            }
                    
                            if (invoiceid.value.length < 1 && invoiceidDiv.style.display === "block") {
                              invoiceidError.style.visibility = "visible";
                            } else {
                              invoiceidError.style.visibility = "hidden";
                            }
                    
                            purchase_units[0].description = description.value;
                            purchase_units[0].amount.value = amount.value;
                            purchase_units[0].amount.breakdown.item_total.value = amount.value;
                            purchase_units[0].items[0].unit_amount.value = amount.value;
                    
                            if(invoiceid.value !== '') {
                              purchase_units[0].invoice_id = invoiceid.value;
                            }
                          },
                    
                          createOrder: function (data, actions) {
                            return actions.order.create({
                              purchase_units: purchase_units,
                            });
                          },
                    
                          onApprove: function (data, actions) {
                            return actions.order.capture().then(function (orderData) {
                    
                              // Full available details
                              console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));
                    
                              // Show a success message within this page, e.g.
                              const element = document.getElementById('paypal-button-container');
                              element.innerHTML = '';
                              element.innerHTML = '<h3>Thank you for your payment!</h3>';
                    
                              // Or go to another URL:  actions.redirect('thank_you.html');
                              
                            });
                          },
                    
                          onError: function (err) {
                            console.log(err);
                          }
                        }).render('#paypal-button-container');
                      }
                      initPayPalButton();
                      </script>
                
                </div>
                    
                    <button id="close-right-modal" class="buttondesign-right">BACK</button>
                </div>
            </div>
        </aside>

        <div class="option-boxes" id="money-box">

            

            <div class="title-option-box">
                <a><h3 class="option-title" id="cash-title">Cash Donation</h3></a>
            </div>
            <div>
                <img id="cash-image" class="gif-image" src="https://media.giphy.com/media/ekBL7F6GgOaxsPKkIU/giphy.gif" alt="Will Smith and Carlton Banks smiling as their eyes change to dollar signs.">
            </div>

        </div>

        <div class="option-boxes" id="target-box">

            <div class="desktop-view">
                <a href="https://www.target.com/gift-registry/create-wedding-registry" target="_blank"><img class="gif-image" src="https://media.giphy.com/media/26xBJQgfNVrVEQes0/giphy.gif" alt=" Woman holding shopping card as she swings around target. Gif."></a>
            </div>
            <div class="title-option-box desktop-view">
                <a href="https://www.target.com/gift-registry/create-wedding-registry" target="_blank"><h3 class="option-title">Target</h3></a>
            </div>

            <div class="title-option-box small-mobile">
                <a href="https://www.target.com/gift-registry/create-wedding-registry" target="_blank"><h3 class="option-title">Target</h3></a>
            </div>

            <div class="small-mobile">
                <a href="https://www.target.com/gift-registry/create-wedding-registry" target="_blank"><img class="gif-image" src="https://media.giphy.com/media/26xBJQgfNVrVEQes0/giphy.gif" alt=" Woman holding shopping card as she swings around target. Gif."></a>
            </div>
            
            

        </div>

        <div class="option-boxes" id="amazon-box">
            <div class="title-option-box">
                <a href="https://www.amazon.com/wedding/home" target="_blank"><h3 class="option-title">Amazon</h3></a>
            </div>
            <div>
                <a href="https://www.amazon.com/wedding/home" target="_blank"> <img class="gif-image" src="https://media.giphy.com/media/3oEjI4MMUuv9TZwXCM/giphy.gif" alt=" Animation amazon truck with prime day packaging driving to the right. Gif."></a>
            </div>

        </div>

    </div>

    <h2 id="thankyou-message">THANK YOU SO MUCH!<br>WE APPRECIATE ALL YOUR LOVE AND SUPPORT.</h2>
    
    



<p class="main-text" id="questions">If you have any questions please email Kathy Chappell at <a href="mailto: harryandpeyt@gmail.com" class="click-style" id="email-signoff">harryandpeyt@gmail.com</a>.</p>

    <script src="scriptReg.js"></script>
</body>
</html>